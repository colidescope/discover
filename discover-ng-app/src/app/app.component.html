<app-navbar></app-navbar>
<div class="container-fluid" id="main-container">
  <div class="row h-100">
    <app-sidebar [menuItems]="getLeftMenuItems()" (onStausChange)="updateLeftSideBarStatus($event)">
      <div [ngSwitch]="leftSideBarStatus.selectedIndex">
        <ng-template [ngSwitchCase]="0">
          <app-run-container (jobIdChange)="updateJobId($event)"></app-run-container>
        </ng-template>
        <ng-template [ngSwitchCase]="1">
          <app-explore-container (xAxisChange)="setXAxis($event)" [xAxis]="xAxisLabel"
                                 (yAxisChange)="setYAxis($event)" [yAxis]="yAxisLabel"
                                 (sizeChange)="setRadiusLabel($event)" [size]="radiusLabel"
                                 (colorChange)="setColorLabel($event)" [color]="colorLabel"
                                 (resetZoomClicked)="resetZoom()"
                                 (clearSelectedClicked)="clearSelected()">
          </app-explore-container>
        </ng-template>
      </div>
    </app-sidebar>

    <div id="centralPanel" [ngClass]="getWidthClass()">
      <app-load-project [projectName]="jobId"></app-load-project>
      <app-scatter-chart *ngIf="jobData != null" #scatter
                         [xAxisLabel]="xAxisLabel"
                         [yAxisLabel]="yAxisLabel"
                         [colorLabel]="colorLabel"
                         [radiusLabel]="radiusLabel"
                         [jobData]="jobData"
                         [jobId]="jobId"
                         (selectedPointsChange)="updateSelectedDesigns($event)">
      </app-scatter-chart>
    </div>

    <app-sidebar [menuItems]="getRightMenuItems()"
                 (onStausChange)="updateRightSideBarStatus($event)"
                 [inverted]='true'>
      <div [ngSwitch]="rightSideBarStatus.selectedIndex">
        <ng-template [ngSwitchCase]="0">
          <app-designs-container [jobId]="jobId" [designsList]="selectedDesigns"></app-designs-container>
        </ng-template>
      </div>
    </app-sidebar>
  </div>
</div>
